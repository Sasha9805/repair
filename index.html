<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Ремонт квартир</title>
  <link rel="stylesheet" href="css/style.css">
  <!-- <link rel="stylesheet" href="css/slick.css"> -->
  <link rel="stylesheet" href="css/owl.carousel.min.css">
</head>
<body>
  <header class="header">
    <div class="container header-wrap">
      <div class="header-logo">
        <img src="img/header-logo.jpg" alt="Ремонт квартир">
      </div> 
      <div class="header-text">
        <div class="header-text__contacts">
          <span class="header-text__city">Калуга, Москва, МО</span>
          <a class="header-text__phone" href="tel:+74954225131">+7 (495) 42-251-31</a>
        </div>
        <div class="header-text__button">
          <button class="button" id="button-callback">Перезвоните <span class="hidden-xs">мне</span></button>
        </div>
      </div> 
    </div>
  </header>

  <div class="main">
    <div class="container">
      <div class="main-wrap">
        <div class="main-text">
          <h1 class="main-text__title">
            Внутренняя отделка помещений "под ключ"
            <span>с гарантией качества, прописанной в&nbsp;договоре</span>
          </h1>
          <div class="main-advantages">
            <div class="main-advantages__item">
              <div class="main-advantages__img main-advantages__img-1">

              </div>
              <div class="main-advantages__text">
                Точно соблюдаем сроки
              </div>
            </div>
            <!-- /.main-advantages__item -->

            <div class="main-advantages__item">
              <div class="main-advantages__img main-advantages__img-2">
            
              </div>
              <div class="main-advantages__text">
                Рассчитаем смету на работы и материалы в день обращения
              </div>
            </div>
            <!-- /.main-advantages__item -->

            <div class="main-advantages__item">
              <div class="main-advantages__img main-advantages__img-3">
            
              </div>
              <div class="main-advantages__text">
                Предложим более 100 вариантов исполнения дизайна Вашего жилья
              </div>
            </div>
            <!-- /.main-advantages__item -->
          </div>
        </div>
        <div class="main-image">
          <img src="img/main/main-img.png" alt="План-схема">
        </div>
      </div>
    </div>
  </div>

  <section class="feedback">
    <div class="container">
      <div class="form">
        <h2 class="form__title">Мы бесплатно разработаем дизайн-проект&nbsp;Вашего жилья и реализуем его!</h2>
        <span class="form__subtitle">Оставьте заявку на разработку бесплатного дизайн-проекта!</span>

        <!-- Форма без jQuery плагина валидации -->
        <!-- <form action="mailer/smart.php" class="js-ajax-fb" method="POST">
          <input type="text" name="full-name-fb" class="form__input input input-name" placeholder="Ваше имя" required>
          <input type="tel" name="phone-fb" class="form__input input input-tel" placeholder="Ваш телефон" title="Номер в формате +7-999-99-99-999, где 9 – любая цифра." pattern="\+7-[0-9]{3}-[0-9]{2}-[0-9]{2}-[0-9]{3}" required>
          <button type="submit" class="button form__button">Получить бесплатный дизайн-&nbsp;проект</button>
        </form> -->

        <!-- Форма для jQuery Validation Plugin -->
        <form action="mailer/smart.php" class="js-ajax-fb" method="POST">
          <input type="text" name="full_name_fb" class="form__input input input-name" placeholder="Ваше имя">
          <input type="tel" name="phone_fb" class="form__input input input-tel" placeholder="Ваш телефон">
          <button type="submit" class="button form__button">Получить бесплатный дизайн-&nbsp;проект</button>
        </form>

        <div class="form__manage-team">
          <div class="form__manager">
            Наш менеджер перезвонит Вам в течение 60 секунд
          </div>
          <div class="form__contacts">
            <!-- <div class="form__img">
              <img src="img/feedback/phone.png" alt="Телефон">
            </div> -->
            <div class="form__our-tel">
              <div class="form__text">
                или перезвоните нам сами
              </div>
              <div class="form__tel">
                +7 (495) 42-251-31
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="modal" id="modal-callback">
    <div class="modal__dialog">
      <div class="modal__close">&#10006</div>  <!-- Для плагина bPopup нужен клас b-popup -->
      <div class="modal__left">
        <div class="modal__rooms">
          <div class="modal__item">
            <div class="modal__img">
              <img src="img/modal/callback/bath.png" alt="">
            </div>
            <div class="modal__descr">
              <div class="modal__title">
                Ванная комната
              </div>
              <div class="modal__line_yellow"></div>
              <div class="modal__prices">
                135*150 - <span class="modal__prices_bold">31 000 руб.</span>
                170*170 - <span class="modal__prices_bold">43 000 руб.</span>
              </div>
            </div>
          </div>

          <div class="modal__item">
            <div class="modal__img">
              <img src="img/modal/callback/toilet.png" alt="">
            </div>
            <div class="modal__descr">
              <div class="modal__title">
                Туалет
              </div>
              <div class="modal__line_yellow"></div>
              <div class="modal__prices">
                135*150 - <span class="modal__prices_bold">14 000 руб.</span>
              </div>
            </div>
          </div>

          <div class="modal__item">
            <div class="modal__img">
              <img src="img/modal/callback/joint-bath.png" alt="">
            </div>
            <div class="modal__descr">
              <div class="modal__title">
                Совмещенный санузел
              </div>
              <div class="modal__line_yellow"></div>
              <div class="modal__prices">
                170*170 - <span class="modal__prices_bold">54 000 руб.</span>
              </div>
            </div>
          </div>
          
        </div>

        <div class="modal__labor">
          <div class="modal__text">В стоимость работ входит</div>
          <div class="modal__list">
            <ul>
              <li>Демонтаж старого покрытия стен и пола</li>
              <li>Выравнивание стен гипсовыми составами</li>
              <li>Грунтовка стен и пола антисептиком, бетоноконтактом</li>
              <li>Монтаж кафельной плитки на полу и стенах</li>
              <li>Установка реечного или натяжного потолка, светильников</li>
              <li>Монтаж двери с коробкой</li>
            </ul>
          </div>
          
        </div>
      </div>

      <div class="modal__right">
        <div class="modal__title-tel">
          Узнайте точную стоимость ремонта по телефону!
        </div>
        <div class="modal__subtitle-tel">
          Заполните поля ниже - мы свяжемся с Вами
        </div>
        <div class="modal__wrap">
          <div class="modal__form">

            <!-- Форма без jQuery плагина валидации -->
            <!-- <form action="mailer/smart.php" class="js-ajax-modal" method="POST">
              <input type="text" name="full-name-modal" class="modal__input form__input input input-name" placeholder="Ваше имя" required>
              <input type="tel" name="phone-modal" class="modal__input form__input input input-tel" placeholder="Ваш телефон" title="Номер в формате +7-999-99-99-999, где 9 – любая цифра."
                pattern="\+7-[0-9]{3}-[0-9]{2}-[0-9]{2}-[0-9]{3}" required>
              <button type="submit" class="button modal__button form__button">Получить <span class="button__none">бесплатный</span>
                дизайн-&nbsp;проект</button>
            </form> -->

            <!-- Форма для jQuery Validation Plugin -->
            <form action="mailer/smart.php" class="js-ajax-modal" method="POST">
              <input type="text" name="full_name_modal" class="modal__input form__input input input-name" placeholder="Ваше имя">
              <input type="tel" name="phone_modal" class="modal__input form__input input input-tel" placeholder="Ваш телефон">
              <button type="submit" class="button modal__button form__button">Получить <span class="button__none">бесплатный</span>
                дизайн-&nbsp;проект</button>
            </form>
          </div>
          <div class="modal__footer">
            <div class="modal__footer-text">
              Или Вы можете перезвонить нам сами по телефону:
            </div>
            <div class="modal__footer-tel">
              +7 (8182) 42-51-31
            </div>
          </div>
        </div>
      </div> 
    </div>
  </div>

  <!-- Библиотека jQuery -->
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <!-- Плагин bPopup -->
  <!-- <script src="js/jquery.bpopup.min.js"></script> -->

  <!-- Скрипт с помощью bPopup -->
  <!-- <script>
    ;(function($) {
      $(document).ready(function () {
            $('#button-callback').bind('click', function (e) {
              e.preventDefault();
              $('#modal-callback').bPopup({
                positionStyle: 'fixed'
              });
            });
      });
    })(jQuery);
  </script> -->
  
  <!-- С помощью jQuery -->
  <script>
    $(document).ready(function () {
      $('#button-callback').on('click', function() {
        // console.log('Вы нажали на кнопку');
        $('#modal-callback').toggleClass('modal_visible');
      });
      $('.modal__close').on('click', function () {
        $('#modal-callback').toggleClass('modal_visible');
      });
    });
  </script>

  <!-- С помощью JS -->
  <!-- <script>
    var button = document.querySelector('#button-callback');
    var modal = document.querySelector('#modal-callback');
    var close = document.querySelector('.modal__close');
    button.addEventListener('click', function () {
      // console.log('Вы нажали на кнопку');
      modal.classList.toggle('modal_visible');
    });
    close.addEventListener('click', function () {
        document.querySelector('#modal-callback').classList.toggle('modal_visible');
    });
  </script> -->

  <section class="portfolio">
    <div class="container">
      <h2 class="section-title section-title_center">
        Работая с 2007 года, <br>
        мы сделали более 500 ремонтов в квартирах и домах
      </h2>  
      <div class="slider owl-carousel">
        <div class="slider__item">
          <img src="img/portfolio/slider-image-1.jpg" alt="">
        </div>
        <div class="slider__item">
          <img src="img/portfolio/slider-image-2.jpg" alt="">
        </div>
        <div class="slider__item">
          <img src="img/portfolio/slider-image-3.jpg" alt="">
        </div>
        <div class="slider__item">
          <img src="img/portfolio/slider-image-1.jpg" alt="">
        </div>
        <div class="slider__item">
          <img src="img/portfolio/slider-image-2.jpg" alt="">
        </div>
        <div class="slider__item">
          <img src="img/portfolio/slider-image-3.jpg" alt="">
        </div>
      </div>
    </div>
  </section>

  <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>

  <!-- Слайдер с помощью Owl Carousel -->
  <script src="js/owl.carousel.min.js"></script>
  <script>
    $(document).ready(function () {
        $(".slider").owlCarousel({
          loop: true,
          margin: 10,
          nav: true,
          navText: ['<div class="arrow arrow_left"></div>',
                    '<div class="arrow arrow_right"></div>'
          ],
          items: 3,
          responsive: {
            1024: {
              items: 3,
              nav: true,
              loop: true
            },
            768: {
              items: 2,
              nav: true,
              loop: true
            },
            0: {
              items: 1,
              nav: true,
              loop: true
            }
          }
        });
    });
  </script>

  <!-- Слайдер с помощью Slick -->
  <!-- <script src="js/slick.min.js"></script>
  <script>
    $(document).ready(function () {
        $('.slider').slick({
          slidesToShow: 3,
          slidesToScroll: 1,
          nextArrow: '<div class="arrow arrow_right"></div>',
          prevArrow: '<div class="arrow arrow_left"></div>',
          responsive: [
            {
              breakpoint: 1200,
              settings: {
                slidesToShow: 3,
                slidesToScroll: 1,
              }
            },
            {
              breakpoint: 1024,
              settings: {
                slidesToShow: 2,
                slidesToScroll: 1
              }
            },
            {
              breakpoint: 768,
              settings: {
                slidesToShow: 1,
                slidesToScroll: 1
              }
            }
          ]
        });
      });
  </script> -->

  <section class="callback">
    <div class="container">
      <div class="callback__wrap">
        <div class="callback__questions">
          <h3 class="callback__title">
            Мы можем озвучить Вам примерную стоимость работы и материалов по телефону
          </h3>
          <div class="callback__subtitle">
            Для этого нужно ответить на 4 вопроса:
          </div>
          <div class="callback__list">
            <div class="callback__item">
              <div class="callback__number  callback__number-1">
                1.
              </div>
              <div class="callback__descr">
                Какова площадь помещения?
              </div>
            </div>

            <div class="callback__item">
              <div class="callback__number  callback__number-2">
                2.
              </div>
              <div class="callback__descr">
                У Вас новостройка или вторичное жилье?
              </div>
            </div>

            <div class="callback__item">
              <div class="callback__number callback__number-3">
                3.
              </div>
              <div class="callback__descr">
                Где находится помещение, в котором будет производиться ремонт?
              </div>
            </div>

            <div class="callback__item">
              <div class="callback__number  callback__number-4">
                4.
              </div>
              <div class="callback__descr">
                Назначение помещения?
              </div>
            </div>
          </div>
        </div>

        <div class="callback__form">
          <h3 class="callback__form-title">
            Оставьте заявку на бесплатный расчет ремонта по телефону
          </h3>
          <div class="callback__form-subtitle callback__subtitle_center">
            Для этого заполните форму ниже
          </div>

          <!-- Форма без jQuery плагина валидации -->
          <!-- <form action="mailer/smart.php" class="js-ajax-cb" method="POST">
            <input type="text" name="full-name-cb" class="callback__form-input form__input input input-name" placeholder="Ваше имя" required>
            <input type="tel" name="phone-cb" class="callback__form-input form__input input input-tel" placeholder="Ваш телефон" title="Номер в формате +7-999-99-99-999, где 9 – любая цифра."
              pattern="\+7-[0-9]{3}-[0-9]{2}-[0-9]{2}-[0-9]{3}" required>
            <button type="submit" class="button callback__form-button form__button">Рассчитать стоимость</button>
          </form> -->

          <!-- Форма для jQuery Validation Plugin -->
          <form action="mailer/smart.php" class="js-ajax-cb" method="POST">
            <input type="text" name="full_name_cb" class="callback__form-input form__input input input-name" placeholder="Ваше имя">
            <input type="tel" name="phone_cb" class="callback__form-input form__input input input-tel" placeholder="Ваш телефон">
            <button type="submit" class="button callback__form-button form__button">Рассчитать стоимость</button>
          </form>
          
          <div class="callback__form-footer">
            Мы перезвоним Вам в течение 60 секунд
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="modal" id="modal-test">
    <div class="modal__success">
      <div class="modal__close">&#10006</div>
      Ваше сообщение успешно отправлено
    </div>
  </div>

  <script src="js/jquery.validate.js"></script>
  <script src="js/additional-methods.min.js"></script>
  <script>
    $(document).ready(function() {

      // Добавляем метод проверки корректного ввода телефона
      jQuery.validator.addMethod("phone", function (phone_number, element) {
        phone_number = phone_number.replace(/\s+/g, "");
        return this.optional(element) || phone_number.length > 11 &&
        phone_number.match(/^(\+7[\-])(\d{3}[\-])(\d{2}[\-])(\d{2}[\-])(\d{3})$/);
      }, "Номер в формате +7-999-99-99-999, где 9 – любая цифра.");

      jQuery.validator.setDefaults({
        debug: true,
        success: "valid"
      });

      var form_fb = $('.js-ajax-fb');
      var form_modal = $('.js-ajax-modal');
      var form_cb = $('.js-ajax-cb');

      // Форма feedback
      form_fb.validate({
        rules: {
          full_name_fb: {
            required: true,
            minlength: 2,
          },
          phone_fb: {
            required: true,
            phone: true
          }
        },
        messages: {
          full_name_fb: {
            required: "Введите ваше имя",
            minlength: "Ваше имя должно быть не менее 2 символов"
          },
          phone_fb: {
            required: "Введите ваш номер телефона",
            phone: "Номер в формате +7-999-99-99-999, где 9 – любая цифра."
          }
        }
      });

      form_fb.on('submit', function () {

        var nameVal = $('[name = full_name_fb]').val(),
            phoneVal = $('[name = phone_fb]').val();

        if (form_fb.valid()) {

          event.preventDefault();

          //  Если всё введено правильно, то отправляем письмо
          $.ajax({
            url: "mailer/smart.php",
            data: { name: nameVal, phone: phoneVal }
            // data: $(this).serialize()
          }).done(function () {
            $(this).find("input").val("");
            // alert("Ваше сообщение успешно отправлено");

            $('#modal-callback').removeClass('modal_visible');
            $('#modal-test').addClass('modal_visible');
            $('.modal__close').on('click', function () {
              $('#modal-callback').removeClass('modal_visible');
              $('#modal-test').removeClass('modal_visible');
            });

            form_fb.trigger('reset');
          });
          return false;
        }; 
      });

      // Форма модального окна modal
      form_modal.validate({
        rules: {
          full_name_modal: {
            required: true,
            minlength: 2,
          },
          phone_modal: {
            required: true,
            phone: true
          }
        },
        messages: {
          full_name_modal: {
            required: "Введите ваше имя",
            minlength: "Ваше имя должно быть не менее 2 символов"
          },
          phone_modal: {
            required: "Введите ваш номер телефона",
            phone: "Номер в формате +7-999-99-99-999, где 9 – любая цифра."
          }
        }
      });

      form_modal.on('submit', function () {

        var nameVal = $('[name = full_name_modal]').val(),
            phoneVal = $('[name = phone_modal]').val();


        //  Если всё введено правильно, то отправляем письмо
        if (form_modal.valid()){

          event.preventDefault();

          $.ajax({
            type: "POST",
            url: "mailer/smart.php",
            data: { name: nameVal, phone: phoneVal }
            // data: $(this).serialize()
          }).done(function () {
            $(this).find("input").val("");
            // alert("Ваше сообщение успешно отправлено");

            $('#modal-callback').removeClass('modal_visible');
            $('#modal-test').addClass('modal_visible');
            $('.modal__close').on('click', function () {
              $('#modal-callback').removeClass('modal_visible');
              $('#modal-test').removeClass('modal_visible');
            });
            
            form_modal.trigger('reset');
          });
          return false;
        };
      });

      // Форма callback
      form_cb.validate({
        rules: {
          full_name_cb: {
            required: true,
            minlength: 2,
          },
          phone_cb: {
            required: true,
            phone: true
          }
        },
        messages: {
          full_name_cb: {
            required: "Введите ваше имя",
            minlength: "Ваше имя должно быть не менее 2 символов"
          },
          phone_cb: {
            required: "Введите ваш номер телефона",
            phone: "Номер в формате +7-999-99-99-999, где 9 – любая цифра."
          }
        }
      });

      form_cb.on('submit', function (event) {

        var nameVal = $('[name = full_name_cb]').val(),
        phoneVal = $('[name = phone_cb]').val();

        // Если всё введено правильно, то отправляем письмо
        if (form_cb.valid()){

          event.preventDefault();

          $.ajax({
            type: "POST",
            url: "mailer/smart.php",
            data: { name: nameVal, phone: phoneVal }
            // data: $(this).serialize()
          }).done(function () {
            $(this).find("input").val("");
            // alert("Ваше сообщение успешно отправлено");

            $('#modal-callback').removeClass('modal_visible');
            $('#modal-test').addClass('modal_visible');
            $('.modal__close').on('click', function () {
              $('#modal-callback').removeClass('modal_visible');
              $('#modal-test').removeClass('modal_visible');
            });

            form_cb.trigger('reset');
          });
        };
        return false;
      });
    });
  </script>

</body>
</html>